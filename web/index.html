<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Claudio â€” Voice & Text for OpenClaw</title>
<link rel="icon" type="image/svg+xml" href="../icon.svg">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,400;1,9..144,300;1,9..144,400&family=Geist+Mono:wght@300;400&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg:       #0f0c0a;
    --bg-card:  #161210;
    --terra:    #c4664a;
    --terra-lt: #d4866a;
    --gold:     #c4a45a;
    --muted:    #6b5c52;
    --text:     #d4c4bc;
    --text-dim: #7a6a62;
    --border:   rgba(196,102,74,0.14);
  }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Fraunces', Georgia, serif;
    line-height: 1.6;
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
    opacity: 0.3;
    pointer-events: none;
    z-index: 0;
  }

  .wrap {
    position: relative;
    z-index: 1;
    max-width: 600px;
    margin: 0 auto;
    padding: 0 28px;
  }

  /* â”€â”€ Header â”€â”€ */
  header {
    padding: 64px 0 48px;
    text-align: center;
  }

  .mascot {
    display: block;
    margin: 0 auto 32px;
    width: 148px;
    height: 148px;
    animation: idle 4s ease-in-out infinite;
  }

  @keyframes idle {
    0%,100% { transform: translateY(0); }
    50%      { transform: translateY(-5px); }
  }

  h1 {
    font-size: clamp(2.8rem, 8vw, 4.2rem);
    font-weight: 300;
    font-style: italic;
    color: var(--terra-lt);
    letter-spacing: -0.02em;
    line-height: 1;
    margin-bottom: 10px;
  }

  .eyebrow {
    font-family: 'Geist Mono', monospace;
    font-size: 0.63rem;
    letter-spacing: 0.22em;
    color: var(--muted);
    text-transform: uppercase;
    margin-bottom: 36px;
  }

  /* â”€â”€ Hero copy â”€â”€ */
  .hero-copy {
    text-align: center;
    margin-bottom: 48px;
  }

  .hero-copy p.lead {
    font-size: 1.15rem;
    font-weight: 300;
    color: var(--text);
    line-height: 1.65;
    margin-bottom: 14px;
    max-width: 480px;
    margin-left: auto;
    margin-right: auto;
  }

  .hero-copy p.sub {
    font-family: 'Geist Mono', monospace;
    font-size: 0.72rem;
    color: var(--text-dim);
    letter-spacing: 0.04em;
  }

  /* â”€â”€ Gallery â”€â”€ */
  .gallery {
    margin-bottom: 52px;
  }

  .gallery-track-wrap {
    overflow: hidden;
    border-radius: 16px;
    border: 1px solid var(--border);
    background: var(--bg-card);
    max-width: 280px;
    margin: 0 auto;
    aspect-ratio: 9/16;
    position: relative;
  }

  .gallery-track {
    display: flex;
    width: 200%;
    height: 100%;
    transition: transform 0.42s cubic-bezier(0.4,0,0.2,1);
  }

  .gallery-slide {
    width: 50%;
    height: 100%;
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    padding: 0;
  }

  .notch {
    width: 38px;
    height: 5px;
    background: rgba(255,255,255,0.07);
    border-radius: 3px;
    margin: 8px auto 0;
    flex-shrink: 0;
  }

  /* Text chat slide â€” mini chat.html replica */
  .ui-chat {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .mini-header {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 4px 0 4px;
    border-bottom: 1px solid rgba(255,255,255,0.06);
    flex-shrink: 0;
  }

  .mini-header-name {
    font-family: 'Geist Mono', monospace;
    font-size: 0.5rem;
    font-weight: 500;
    color: var(--text);
    letter-spacing: -0.01em;
  }

  .mini-agents {
    display: flex;
    gap: 3px;
    padding: 5px 4px;
    border-bottom: 1px solid rgba(255,255,255,0.03);
    flex-shrink: 0;
  }

  .mini-pill {
    font-family: 'Geist Mono', monospace;
    font-size: 0.38rem;
    color: var(--muted);
    padding: 2px 5px;
    border-radius: 100px;
    border: 1px solid rgba(255,255,255,0.08);
    display: flex;
    align-items: center;
    gap: 3px;
  }

  .mini-pill.active {
    border-color: var(--gold);
    color: var(--gold);
    background: rgba(196,164,90,0.1);
  }

  .mini-pill-dot {
    width: 3px;
    height: 3px;
    border-radius: 50%;
    background: currentColor;
    opacity: 0.7;
  }

  .mini-messages {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;
    justify-content: flex-end;
    padding: 6px 8px 4px;
    overflow: hidden;
  }

  .msg-group {
    display: flex;
    flex-direction: column;
    gap: 1px;
    margin-bottom: 6px;
  }

  .msg-group.user { align-items: flex-end; }
  .msg-group.agent { align-items: flex-start; }

  .msg-label {
    font-family: 'Geist Mono', monospace;
    font-size: 0.35rem;
    color: var(--muted);
    letter-spacing: 0.05em;
    padding: 0 2px;
    margin-bottom: 2px;
    display: flex;
    align-items: center;
    gap: 3px;
  }

  .msg-label-dot {
    width: 3px;
    height: 3px;
    border-radius: 50%;
    background: #3dbd6c;
    box-shadow: 0 0 3px rgba(61,189,108,0.5);
  }

  .bubble {
    max-width: 85%;
    padding: 5px 7px;
    font-size: 0.48rem;
    line-height: 1.5;
  }

  .msg-group.agent .bubble {
    background: #161616;
    border: 1px solid rgba(255,255,255,0.08);
    color: var(--text);
    border-radius: 10px;
    border-bottom-left-radius: 3px;
    font-family: -apple-system, sans-serif;
    font-weight: 300;
  }

  .msg-group.user .bubble {
    background: #1e1e1e;
    border: 1px solid rgba(255,255,255,0.05);
    color: var(--text);
    border-radius: 10px;
    border-bottom-right-radius: 3px;
    font-family: -apple-system, sans-serif;
    font-weight: 300;
  }

  .msg-time {
    font-family: 'Geist Mono', monospace;
    font-size: 0.3rem;
    color: rgba(255,255,255,0.15);
    padding: 0 2px;
    margin-top: 1px;
    letter-spacing: 0.05em;
  }

  .mini-thinking {
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 5px 7px;
    background: #161616;
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 10px;
    border-bottom-left-radius: 3px;
    max-width: 85%;
  }

  .mini-thinking-dots {
    display: flex;
    gap: 2px;
  }

  .mini-thinking-dots span {
    width: 3px;
    height: 3px;
    border-radius: 50%;
    background: var(--muted);
    animation: blink 1.2s ease-in-out infinite;
  }

  .mini-thinking-dots span:nth-child(2) { animation-delay: 0.2s; }
  .mini-thinking-dots span:nth-child(3) { animation-delay: 0.4s; }

  @keyframes blink {
    0%, 80%, 100% { opacity: 0.2; transform: scale(0.8); }
    40% { opacity: 1; transform: scale(1); }
  }

  .mini-thinking-label {
    font-family: 'Geist Mono', monospace;
    font-size: 0.38rem;
    color: rgba(255,255,255,0.15);
    font-style: italic;
  }

  .mini-input {
    flex-shrink: 0;
    padding: 5px 4px 6px;
    border-top: 1px solid rgba(255,255,255,0.06);
    display: flex;
    align-items: center;
    gap: 4px;
  }

  .mini-input-field {
    flex: 1;
    background: #161616;
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 12px;
    padding: 4px 8px;
    font-family: -apple-system, sans-serif;
    font-size: 0.4rem;
    color: rgba(255,255,255,0.15);
    font-style: italic;
  }

  .mini-voice-btn {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: #1e1e1e;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.4rem;
    flex-shrink: 0;
  }

  .mini-send-btn {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--gold);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.45rem;
    color: #0a0a0a;
    flex-shrink: 0;
    font-weight: bold;
  }

  /* Chat animation */
  .msg-anim {
    opacity: 0;
    transform: translateY(8px);
    transition: opacity 0.4s ease, transform 0.4s ease;
  }

  .msg-anim.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Voice slide */
  .ui-voice {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 18px;
  }

  .voice-ring {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: rgba(196,102,74,0.1);
    border: 1.5px solid rgba(196,102,74,0.28);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .voice-ring::before {
    content: '';
    position: absolute;
    width: 84px;
    height: 84px;
    border-radius: 50%;
    border: 1px solid rgba(196,102,74,0.1);
    animation: pulse-ring 2.5s ease-out infinite;
  }

  @keyframes pulse-ring {
    0%   { transform: scale(0.88); opacity: 0.5; }
    100% { transform: scale(1.3);  opacity: 0; }
  }

  .waveform {
    display: flex;
    align-items: center;
    gap: 3px;
    height: 24px;
  }

  .waveform span {
    display: block;
    width: 2.5px;
    background: var(--terra);
    border-radius: 2px;
    animation: wave 1.2s ease-in-out infinite;
  }

  .waveform span:nth-child(1) { height: 6px;  animation-delay: 0s;    }
  .waveform span:nth-child(2) { height: 14px; animation-delay: 0.1s;  }
  .waveform span:nth-child(3) { height: 22px; animation-delay: 0.2s;  }
  .waveform span:nth-child(4) { height: 10px; animation-delay: 0.3s;  }
  .waveform span:nth-child(5) { height: 18px; animation-delay: 0.15s; }
  .waveform span:nth-child(6) { height: 8px;  animation-delay: 0.25s; }
  .waveform span:nth-child(7) { height: 14px; animation-delay: 0.05s; }

  @keyframes wave {
    0%,100% { transform: scaleY(1); }
    50%      { transform: scaleY(0.35); }
  }

  .slide-label {
    font-family: 'Geist Mono', monospace;
    font-size: 0.6rem;
    letter-spacing: 0.1em;
    color: var(--muted);
    text-align: center;
    flex-shrink: 0;
    padding: 6px 0;
  }

  /* Dots */
  .gallery-dots {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-top: 16px;
  }

  .dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--muted);
    opacity: 0.35;
    cursor: pointer;
    transition: opacity 0.2s, background 0.2s, transform 0.2s;
    border: none;
    padding: 0;
    appearance: none;
  }

  .dot.active {
    background: var(--terra);
    opacity: 1;
    transform: scale(1.2);
  }

  /* â”€â”€ Spec bullets â”€â”€ */
  .specs {
    border-top: 1px solid var(--border);
    padding: 32px 0 40px;
    margin-bottom: 40px;
  }

  .spec-bullets {
    display: flex;
    flex-direction: column;
    gap: 9px;
  }

  .spec-item {
    display: flex;
    align-items: baseline;
    gap: 10px;
    font-size: 0.85rem;
    font-weight: 300;
  }

  .spec-item::before {
    content: 'Â·';
    color: var(--terra);
    font-size: 1.2rem;
    line-height: 1;
    flex-shrink: 0;
  }

  .spec-item a {
    color: var(--terra-lt);
    text-decoration: none;
    border-bottom: 1px solid rgba(196,102,74,0.28);
    transition: border-color 0.2s;
  }

  .spec-item a:hover { border-color: var(--terra-lt); }

  .spec-item .dim {
    color: var(--text-dim);
  }

  /* â”€â”€ CTA â”€â”€ */
  .cta-block {
    text-align: center;
    padding: 0 0 52px;
  }

  .btn {
    display: inline-block;
    padding: 12px 30px;
    border-radius: 8px;
    font-family: 'Fraunces', serif;
    font-size: 0.93rem;
    font-weight: 400;
    text-decoration: none;
    transition: all 0.2s;
    letter-spacing: 0.01em;
  }

  .btn-primary {
    background: var(--terra);
    color: #1a0f0a;
    border: 1.5px solid var(--terra);
  }

  .btn-primary:hover {
    background: var(--terra-lt);
    border-color: var(--terra-lt);
    transform: translateY(-1px);
  }

  .cta-note {
    margin-top: 14px;
    font-family: 'Geist Mono', monospace;
    font-size: 0.66rem;
    color: var(--text-dim);
    letter-spacing: 0.05em;
  }

  .cta-note a {
    color: var(--muted);
    text-decoration: none;
    border-bottom: 1px solid rgba(107,92,82,0.35);
  }

  .cta-note a:hover { color: var(--text-dim); }

  /* â”€â”€ Footer â”€â”€ */
  footer {
    border-top: 1px solid var(--border);
    padding: 24px 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-family: 'Geist Mono', monospace;
    font-size: 0.62rem;
    color: var(--text-dim);
    letter-spacing: 0.05em;
  }

  footer a { color: var(--text-dim); text-decoration: none; transition: color 0.2s; }
  footer a:hover { color: var(--muted); }
  footer .links { display: flex; gap: 18px; }

  /* â”€â”€ Reveals â”€â”€ */
  .reveal { opacity: 0; transform: translateY(16px); animation: reveal 0.65s ease forwards; }
  .r1 { animation-delay: 0.05s; }
  .r2 { animation-delay: 0.15s; }
  .r3 { animation-delay: 0.25s; }
  .r4 { animation-delay: 0.35s; }
  .r5 { animation-delay: 0.45s; }
  .r6 { animation-delay: 0.55s; }

  @keyframes reveal { to { opacity: 1; transform: translateY(0); } }

  @media (max-width: 480px) {
    footer { flex-direction: column; gap: 10px; }
  }
</style>
</head>
<body>
<div class="wrap">

  <header>
    <svg class="mascot reveal r1" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <radialGradient id="ib" cx="35%" cy="28%" r="68%">
            <stop offset="0%" stop-color="#EAB090"/>
            <stop offset="35%" stop-color="#C86040"/>
            <stop offset="70%" stop-color="#9A3820"/>
            <stop offset="100%" stop-color="#621808"/>
          </radialGradient>
          <radialGradient id="ie" cx="45%" cy="35%" r="60%">
            <stop offset="0%" stop-color="#2A1008"/>
            <stop offset="100%" stop-color="#120604"/>
          </radialGradient>
          <radialGradient id="ispec" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stop-color="white" stop-opacity="0.2"/>
            <stop offset="100%" stop-color="white" stop-opacity="0"/>
          </radialGradient>
          <linearGradient id="ileg" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#9A3820"/>
            <stop offset="100%" stop-color="#621808"/>
          </linearGradient>
        </defs>
        <!-- Antennae -->
        <path d="M 51 30 C 50 22 45 14 47 8" stroke="#C05A3C" stroke-width="2" stroke-linecap="round" fill="none"/>
        <circle cx="47" cy="7" r="2.8" fill="#D4856A"/>
        <path d="M 69 30 C 70 22 75 14 73 8" stroke="#C05A3C" stroke-width="2" stroke-linecap="round" fill="none"/>
        <circle cx="73" cy="7" r="2.8" fill="#D4856A"/>
        <!-- Arms -->
        <ellipse cx="20" cy="62" rx="12" ry="10" fill="#9A3820"/>
        <ellipse cx="100" cy="62" rx="12" ry="10" fill="#9A3820"/>
        <!-- Legs -->
        <rect x="43" y="88" width="12" height="20" rx="5" fill="url(#ileg)"/>
        <rect x="65" y="88" width="12" height="20" rx="5" fill="url(#ileg)"/>
        <!-- Body -->
        <circle cx="60" cy="58" r="42" fill="url(#ib)"/>
        <!-- Specular -->
        <ellipse cx="44" cy="38" rx="18" ry="12" fill="url(#ispec)" transform="rotate(-20 44 38)"/>
        <!-- Eyes -->
        <circle cx="48" cy="57" r="12" fill="url(#ie)"/>
        <circle cx="72" cy="57" r="12" fill="url(#ie)"/>
        <circle cx="51.5" cy="53" r="4" fill="#FFD060" opacity="0.95"/>
        <circle cx="75.5" cy="53" r="4" fill="#FFD060" opacity="0.95"/>
        <!-- Mic badge -->
        <circle cx="91" cy="85" r="12" fill="#0E0604" opacity="0.85"/>
        <rect x="88.5" y="77" width="5" height="8.5" rx="2.5" fill="white"/>
        <path d="M 86 83 Q 86 89.5 91 89.5 Q 96 89.5 96 83" stroke="white" stroke-width="1.5" fill="none" stroke-linecap="round"/>
        <line x1="91" y1="89.5" x2="91" y2="92" stroke="white" stroke-width="1.5" stroke-linecap="round"/>
    </svg>

    <h1 class="reveal r2">Claudio</h1>
    <p class="eyebrow reveal r2">Voice &amp; Text Â· OpenClaw Client</p>
  </header>

  <div class="hero-copy">
    <p class="lead reveal r3">
      A minimal iPhone client for talking to your OpenClaw agents â€”
      by voice or by text. Full conversation context maintained.
    </p>
    <p class="sub reveal r3">v0.1 Â· simple and made with care Â· no accounts Â· no data collection</p>
  </div>

  <!-- Gallery -->
  <div class="gallery reveal r4">
    <div class="gallery-track-wrap">
      <div class="gallery-track" id="gallery-track">

        <!-- Slide 1: Text chat -->
        <div class="gallery-slide">
          <div class="notch"></div>
          <div class="ui-chat">
            <div class="mini-header">
              <div class="mini-header-name">Mave</div>
            </div>
            <div class="mini-agents">
              <div class="mini-pill active"><div class="mini-pill-dot"></div>Mave</div>
              <div class="mini-pill"><div class="mini-pill-dot"></div>Recon</div>
              <div class="mini-pill"><div class="mini-pill-dot"></div>Dispatch</div>
            </div>
            <div class="mini-messages">

              <div class="msg-group agent">
                <div class="msg-label"><div class="msg-label-dot"></div>Mave</div>
                <div class="bubble">Connected. Running on theaf-web.ngrok.io. What do you need?</div>
                <div class="msg-time">20:14</div>
              </div>

              <div class="msg-group user">
                <div class="bubble">Can you check the rate limiter config on the ingestion service?</div>
                <div class="msg-time">20:15</div>
              </div>

              <div class="msg-group agent">
                <div class="msg-label"><div class="msg-label-dot"></div>Mave</div>
                <div class="bubble">Burst cap looks low for your traffic pattern. You're probably seeing drops around peak. Want me to adjust?</div>
                <div class="msg-time">20:15</div>
              </div>

              <div class="msg-group user">
                <div class="bubble">Yeah â€” bump burst to 200 and see if that holds</div>
                <div class="msg-time">20:16</div>
              </div>

              <div class="msg-group agent">
                <div class="msg-label"><div class="msg-label-dot"></div>Mave</div>
                <div class="bubble">Done. Watching metrics for the next 5 min. I'll flag if p99 doesn't improve.</div>
                <div class="msg-time">20:16</div>
              </div>

              <div class="msg-group user msg-anim" id="anim-user">
                <div class="bubble">also pull the error log from the last hour</div>
                <div class="msg-time">20:17</div>
              </div>

              <div class="msg-group agent msg-anim" id="anim-thinking">
                <div class="msg-label"><div class="msg-label-dot"></div>Mave</div>
                <div class="mini-thinking">
                  <div class="mini-thinking-dots"><span></span><span></span><span></span></div>
                  <span class="mini-thinking-label">working</span>
                </div>
              </div>

            </div>
            <div class="mini-input">
              <div class="mini-input-field">message Maveâ€¦</div>
              <div class="mini-voice-btn">ðŸŽ™</div>
              <div class="mini-send-btn">â†‘</div>
            </div>
          </div>
          <div class="slide-label">Text chat</div>
        </div>

        <!-- Slide 2: Voice mode -->
        <div class="gallery-slide">
          <div class="notch"></div>
          <div class="ui-voice">
            <div class="voice-ring">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M12 2a3 3 0 0 1 3 3v7a3 3 0 0 1-6 0V5a3 3 0 0 1 3-3z" fill="#c4664a" opacity="0.9"/>
                <path d="M19 10v2a7 7 0 0 1-14 0v-2" stroke="#c4664a" stroke-width="1.5" stroke-linecap="round"/>
                <line x1="12" y1="19" x2="12" y2="22" stroke="#c4664a" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
            </div>
            <div class="waveform">
              <span></span><span></span><span></span><span></span>
              <span></span><span></span><span></span>
            </div>
          </div>
          <div class="slide-label">Voice mode</div>
        </div>

      </div>
    </div>

    <div class="gallery-dots">
      <button class="dot active" data-index="0" aria-label="Text chat"></button>
      <button class="dot"        data-index="1" aria-label="Voice mode"></button>
    </div>
  </div>

  <!-- Spec bullets -->
  <div class="specs reveal r5">
    <div class="spec-bullets">
      <div class="spec-item">Apple Speech for STT, server-side TTS <span class="dim">â€” voice is enhancement, not requirement</span></div>
      <div class="spec-item">Self-hosted <a href="https://github.com/kochitolabs/openclaw" target="_blank">OpenClaw</a> backend via OpenAI-compatible API</div>
      <div class="spec-item">No credentials stored on device <span class="dim">â€” server URL only</span></div>
      <div class="spec-item">iOS 17+ <span class="dim">â€” requires your own OpenClaw instance</span></div>
      <div class="spec-item">No data collected. No account. Conversations stay on your server.</div>
    </div>
  </div>

  <!-- CTA -->
  <div class="cta-block reveal r6">
    <a class="btn btn-primary" href="mailto:hello@kochi.to">TestFlight Invite</a>
    <p class="cta-note">Need help setting up? <a href="https://discord.gg/c3avyCvjz5">Join our Discord</a></p>
  </div>

  <footer class="reveal r6">
    <span>&copy; 2026 Kochito Labs</span>
    <div class="links">
      <a href="privacy.html">Privacy Policy</a>
      <a href="terms.html">Terms of Service</a>
    </div>
  </footer>

</div>

<script>
  const track = document.getElementById('gallery-track');
  const dots  = document.querySelectorAll('.dot');
  let current = 0;

  function goTo(i) {
    current = i;
    track.style.transform = `translateX(-${i * 50}%)`;
    dots.forEach((d, idx) => d.classList.toggle('active', idx === i));
  }

  dots.forEach(dot => {
    dot.addEventListener('click', () => goTo(+dot.dataset.index));
  });

  // Swipe support
  let startX = 0;
  const wrap = document.querySelector('.gallery-track-wrap');

  wrap.addEventListener('touchstart', e => { startX = e.touches[0].clientX; }, { passive: true });
  wrap.addEventListener('touchend',   e => {
    const dx = e.changedTouches[0].clientX - startX;
    if (Math.abs(dx) > 40) goTo(dx < 0 ? 1 : 0);
  });

  // Animate new messages into the chat slide
  function runChatAnim() {
    const user = document.getElementById('anim-user');
    const thinking = document.getElementById('anim-thinking');
    if (!user || !thinking) return;

    // Reset
    user.classList.remove('visible');
    thinking.classList.remove('visible');

    // User message slides in after 2s
    setTimeout(() => user.classList.add('visible'), 2000);
    // Thinking bubble appears 1s after user message
    setTimeout(() => thinking.classList.add('visible'), 3200);
  }

  // Run on load, and loop every 8s
  const galleryObs = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        runChatAnim();
        setInterval(runChatAnim, 8000);
        galleryObs.disconnect();
      }
    });
  }, { threshold: 0.3 });

  const galleryEl = document.querySelector('.gallery');
  if (galleryEl) galleryObs.observe(galleryEl);
</script>
</body>
</html>
